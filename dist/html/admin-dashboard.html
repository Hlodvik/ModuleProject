<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Communities</title>
    <link rel="icon" type="image/svg+xml" href="/assets/readiticon.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

  <script type="module" crossorigin src="/assets/main2.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/main.css">
</head>


<body>
    <nav class="navbar navbar-expand-lg navbar-dark px-3 border-bottom border-secondary w-100">
        <a class="navbar-brand d-flex align-items-center" href="/html/home.html">
            <img src="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20216%20216'%3e%3cdefs%3e%3c!--%20Gradient%20Definitions%20--%3e%3cradialGradient%20id='snoo-main-gradient'%20cx='50%25'%20cy='50%25'%20r='50%25'%3e%3cstop%20offset='0%25'%20stop-color='%23feffff'/%3e%3cstop%20offset='80%25'%20stop-color='%23d8dbe2'/%3e%3cstop%20offset='100%25'%20stop-color='%23bfcdd6'/%3e%3c/radialGradient%3e%3cradialGradient%20id='snoo-dark-gradient'%20cx='50%25'%20cy='50%25'%20r='50%25'%3e%3cstop%20offset='0%25'%20stop-color='%23172e35'/%3e%3cstop%20offset='100%25'%20stop-color='%23000'/%3e%3c/radialGradient%3e%3c/defs%3e%3c!--%20Speech%20bubble%20--%3e%3cpath%20fill='%23FF4500'%20d='M108,0%20C48.35,0,0,48.35,0,108%20c0,29.82,12.09,56.82,31.63,76.37l-20.57,20.57%20c-4.08,4.08-1.19,11.06,4.58,11.06h92.36%20c59.65,0,108-48.35,108-108%20C216,48.35,167.65,0,108,0%20Z'/%3e%3c!--%20Cat%20ears%20--%3e%3cpath%20fill='url(%23snoo-main-gradient)'%20d='M153,75%20Q163,65%20173,75%20Q183,85%20183,100%20Q183,115%20173,120%20Q163,125%20153,120%20Q143,115%20143,100%20Q143,85%20153,75%20Z'/%3e%3cpath%20fill='url(%23snoo-main-gradient)'%20d='M67,75%20Q57,65%2047,75%20Q37,85%2037,100%20Q37,115%2047,120%20Q57,125%2067,120%20Q77,115%2077,100%20Q77,85%2067,75%20Z'/%3e%3c!--%20Head%20--%3e%3cellipse%20cx='108.06'%20cy='128.64'%20rx='72'%20ry='54'%20fill='url(%23snoo-main-gradient)'/%3e%3c!--%20Eyes%20--%3e%3cpath%20fill='%23FF4500'%20d='M86.78,123.48c-.42,9.08-6.49,12.38-13.56,12.38s-12.46-4.93-12.04-14.01%20c.42-9.08,6.49-15.02,13.56-15.02s12.46,7.58,12.04,16.66Z'/%3e%3cpath%20fill='%23FF4500'%20d='M129.35,123.48c.42,9.08,6.49,12.38,13.56,12.38s12.46-4.93,12.04-14.01%20c-.42-9.08-6.49-15.02-13.56-15.02s-12.46,7.58-12.04,16.66Z'/%3e%3c!--%20Pupils%20--%3e%3cellipse%20cx='79.63'%20cy='116.37'%20rx='2.8'%20ry='3.05'%20fill='%23c1c1c1a7'/%3e%3cellipse%20cx='146.21'%20cy='116.37'%20rx='2.8'%20ry='3.05'%20fill='%23c1c1c1a7'/%3e%3c!--%20Mouth%20--%3e%3cpath%20fill='url(%23snoo-dark-gradient)'%20d='M92.25,133h32.5c1.07,0,1.95,0.88,1.95,1.95v6.5c0,9.75-7.8,17.55-18.2,17.55s-18.2-7.8-18.2-17.55v-6.5%20c0-1.07,0.88-1.95,1.95-1.95Z'/%3e%3c/svg%3e" class="me-2" style="height: 42px; width: auto;">
            <svg class="h-[22px]" height="30" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 510 150"
                style="text-decoration:none">
                <g style="fill: white">
                    <!-- r -->
                    <path
                        d="M66,96c0-29,20-52,50-52s47,20,47,48c0,5-1,10-2,14h-68c3,11,12,19,26,19c8,0,19-3,24-7l9,22c-9,6-22,9-33,9c-32,0-54-21-54-52Zm27-9h43c0-13-9-20-20-20c-12,0-21,8-23,20Z">
                    </path>
                    <!-- e -->
                    <path
                        d="M72,46l-12,29c-1-1-5-2-9-2s-7,1-10,2c-6,3-11,10-11,19v52H-1V45h29v14h1c7-9,17-16,31-16c5,0,10,1,12,2Z">
                    </path>
                    <!-- a -->
                    <path
                        d="M246,43v12h-1c-8-8-17-11-29-11c-29,0-48,23-48,52s18,52,47,52c12,0,24-4,31-14h1v12h28V43h-30Zm1,80h-1l-7-7c-4,4-10,7-17,7c-15,0-25-12-25-27s10-27,25-27s25,12,25,27v27Z" />
                    <!-- d -->
                    <path
                        d="M360,1v54h-1c-8-8-17-11-29-11c-29,0-48,23-48,52s18,52,47,52c12,0,24-4,31-14h1v12h28V1h-30Zm1,121h-1l-7-7c-4,4-10,7-17,7c-15,0-25-12-25-27s10-27,25-27s25,12,25,27v27Z">
                    </path>
                    <!-- i -->
                    <path d="M420,0c10,0,18,8,18,18s-8,18-18,18s-18-8-18-18S410,0,420,0Zm15,148h-30V45h30v103Z">
                    </path>
                    <!-- t -->
                    <path d="M498,45h22v25h-25v76h-30v-76h-22v-25h22v-28h30v28Z"></path>
                </g>
            </svg> </span>
        </a>
        <form class="d-flex mx-auto search-bar w-100 justify-content-center" style="max-width: 500px;">
            <div class="input-group">
                <span class="input-group-text bg-dark border-secondary text-white rounded-start-pill">
                    <i class="bi bi-search"></i>
                </span>
                <input class="form-control bg-dark text-white border-secondary rounded-end-pill py-2 px-3" 
                       type="search" placeholder="Search Users or Communities" 
                       aria-label="Search" id="searchInput">
            </div>
            <div id="searchResults" class="dropdown-menu bg-dark text-white"></div>
        </form>

        <!-- Navbar dropdown -->
        <div class="dropdown ms-auto">
            <button class="btn btn-outline-light dropdown-toggle d-flex align-items-center" type="button" id="userMenu"
                data-bs-toggle="dropdown" aria-expanded="false">
                <img src="/assets/default-picture.png" alt="Profile Picture" class="rounded-circle"
                    style="height: 35px; width: 35px; object-fit: cover;">
            </button>
            <ul class="dropdown-menu dropdown-menu-end bg-dark border-secondary" aria-labelledby="userMenu">
                <li><a class="dropdown-item text-white" href="profile.html"><i class="bi bi-person me-2"></i> View
                        Profile</a></li>
                <li><a class="dropdown-item text-white" href="settings.html"><i class="bi bi-gear me-2"></i>
                        Settings</a></li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item text-danger" href="/index.html" id="logoutButton">
                    <i class="bi bi-box-arrow-right me-2"></i> Logout
                </a></li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3 col-lg-2 vh-100">
                <div class="sidebar">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link text-white" href="home.html"><i
                                    class="bi bi-house-door me-2"></i> Home</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="popular.html"><i
                                    class="bi bi-fire me-2"></i> Popular</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="explore.html"><i
                                    class="bi bi-compass me-2"></i> Explore</a></li>
                    </ul>
                </div>
            </div>

            <main class="col-md-9 col-lg-10 px-md-4">
                <div class="container mt-4 cn">
                    <h2 class="text-white">Manage Communities</h2>
                    <div id="editCommunities" class="mb-4">
                        <h3 class="text-white">Edit Communities</h3>
                        <p class="text-secondary">Select a community to edit.</p>

                        <!-- Community List (Populated via JS) -->
                        <div id="communityList">
                            <ul class="list-group bg-dark text-white"></ul>
                        </div>

                        <!-- Community Edit Form (Hidden by Default) -->
                        <div id="editCommunityFormContainer" class="d-none">
                            <h4 class="text-white">Edit Community</h4>
                            <form id="editCommunityForm" class="border rounded p-3 bg-dark text-white">
                                <div class="mb-3">
                                    <label class="form-label">Community Name</label>
                                    <input type="text" class="form-control bg-secondary text-white"
                                        id="editCommunityName" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Subdomain (Read-Only)</label>
                                    <input type="text" class="form-control bg-secondary text-white" id="editSubdomain"
                                        readonly>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Community Bio</label>
                                    <textarea class="form-control bg-secondary text-white" id="editCommunityBio"
                                        rows="3" required></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Community Image</label>
                                    <input type="file" class="form-control" id="editCommunityImage" accept="image/*">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Community Banner</label>
                                    <input type="file" class="form-control" id="editCommunityBanner" accept="image/*">
                                </div>
                                <button type="submit" class="btn btn-success">Save Changes</button>
                                <button type="button" class="btn btn-secondary" id="backToList">Back</button>
                            </form>
                        </div>
                    </div>

                    <!-- Create Community Button -->
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createCommunityModal">Create
                        New Community</button>
                </div>
            </main>
        </div>
    </div>

    <!-- Create Community Modal -->
    <div class="modal fade" id="createCommunityModal" tabindex="-1" aria-labelledby="createCommunityModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title" id="createCommunityModalLabel">Create New Community</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="createCommunityForm">
                        <div class="mb-3">
                            <label for="communityName" class="form-label">Community Name</label>
                            <input type="text" class="form-control bg-secondary text-white" id="communityName" required>
                        </div>
                        <div class="mb-3">
                            <label for="subdomain" class="form-label">Subdomain (e.g., yourcommunity)</label>
                            <input type="text" class="form-control bg-secondary text-white" id="subdomain"
                            pattern="[a-zA-Z0-9_\-]+"
                            title="Only letters, numbers, underscores, and hyphens are allowed"
                            required>
                        </div>
                        <div class="mb-3">
                            <label for="communityBio" class="form-label">Community Bio</label>
                            <textarea class="form-control bg-secondary text-white" id="communityBio" rows="3"
                                required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="communityImage" class="form-label">Community Image</label>
                            <input type="file" class="form-control" id="communityImage" accept="image/*">
                        </div>
                        <div class="mb-3">
                            <label for="communityBanner" class="form-label">Community Banner</label>
                            <input type="file" class="form-control" id="communityBanner" accept="image/*">
                        </div>
                        <button type="submit" class="btn custom-btn-orange w-50" id="createCommunityBtn">Create
                            Community</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>

</html>